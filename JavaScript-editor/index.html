<!DOCTYPE html>

<html lang="en">
<head>
<title>WebSim - JavaScript </title>
<meta charset="utf-8"/>
<!-- Physics for A-Frame VR -->
<link href="css/main.css" rel="stylesheet" type="text/css"/>
<script charset="utf-8" src="js/ace-editor/ace.js" type="text/javascript"></script>
<script src="build/websim.bundle.js"></script>
<script src="build/editor.bundle.js"></script>
<script>var config_file = '../../assets/config/config_bump&go.json';</script>
<script src="../simcore/utils/config.js"></script>
<script src="../simcore/utils/websim-utils.js"></script>
</head>
<body>
<nav id="navbar">
<a href="/index.html"><img alt="JdeRobot logo" src="../assets/resources/jderobot.svg" style="width:70px; height:70px; margin-top: 6px;"/></a>
<div id="nav-button-container">
<button id="resetRobot" onclick=""><img alt="Reset button image" src="../assets/resources/reset.png"/></button>
<button id="runbtn" onclick=""><img alt="Run button image" src="../assets/resources/play-icon.png"/></button>
<button id="spectatorCamera" onclick=""><img alt="Change spectator camera" src="../assets/resources/focus.svg"/></button>
<button id="cambtn" onclick=""><img alt="Stop button image" src="../assets/resources/play-camera-icon.png"/></button>
</div>
</nav>
<div id="container">
<div id="myIFrame">
<a-scene background="color: gray;" embedded="" id="scene" inspector="url: https://aframe.io/releases/0.4.0/aframe-inspector.min.js" physics="debug: true" stats="">
<a-assets>
<a-asset-item id="model-pibot"></a-asset-item>
<img alt="Texture for the scene ground" id="ground"/>
<img alt="Texture for the sky of the scene" id="sky"/>
<!-- <a-asset-item id="couch" src="../assets/models/room/couch.gltf"></a-asset-item> -->
</a-assets>
<!-- Pibot, which body is the asset item with ID = model-pibot -->
<a-entity bind="text.value: score"></a-entity>
<a-entity dynamic-body="mass: 1" id="a-pibot">
<a-entity id="secondaryCamera" rotation="-20 -90 0">
<!-- Create a second third-person camera which cant be controlled, the Pibot camera -->
<a-camera active="false" id="cameraRobot" look-controls-enabled="false" spectator="canvas:#spectatorDiv;" wasd-controls-enabled="false"></a-camera>
</a-entity>
<a-entity id="subjCameraWrapper" position="-0.3 0.3 0" rotation="-20 -90 0">
<!-- Create a second third-person camera which cant be controlled, the Pibot camera -->
<a-camera active="true" id="subjCamera" look-controls-enabled="false" wasd-controls-enabled="false"></a-camera>
</a-entity>
<a-entity id="firstPersonWrapper" position="0 0.1 0" rotation="-20 -90 0">
<!-- Create a second third-person camera which cant be controlled, the Pibot camera -->
<a-camera active="false" id="firstPersonCamera" look-controls-enabled="false" wasd-controls-enabled="false"></a-camera>
</a-entity>
</a-entity>
<!-- <a-entity class="collidable" collada-model="#couch" scale="6 6 6" position="0 0 0"> -->
<a-plane height="100" position="0 0 0" repeat="1 1" rotation="-90 0 0" src="#ground" static-body="" width="100">
</a-plane>
<a-sky src="#sky"></a-sky>
<!-- Illumination -->
<a-light color="white" type="ambient"></a-light>
<a-entity id="cameraWrapper" movement-controls="fly:true" position="10 10 0">
<a-entity camera="" id="primaryCamera" look-controls="" scale="10 10 10" wasd-controls=""></a-entity>
</a-entity>
</a-scene>
<script src="js/opencv3.3.1.js" type="text/javascript"></script>
</div>
<div id="scriptContainer"></div>
<div id="right-container">
<div id="ace">

</div>
<div id="cameras" style="display:inline-flex;">
<div id="cameraOpenCV" style="margin-left: 5px;">
<p>OpenCV image</p>
<canvas id="outputCanvas"></canvas>
</div>
<div id="robotCam">
<p>Robot Camera</p>
<div id="spectatorDiv" style="width: 150px; height: 100px;"></div>
</div>
</div>
</div>
</div>
</body>
</html>
